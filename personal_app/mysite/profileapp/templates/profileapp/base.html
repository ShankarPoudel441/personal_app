<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}My Personal Site{% endblock %}</title>

  {% load static %}

  <!-- Pico CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">

  <!-- Your global styles -->
  <link rel="stylesheet" href="{% static 'profileapp/css/base.css' %}">

  {% block extra_head %}{% endblock %}
</head>
<body>
  <!-- Top header / navbar -->
  <header class="app-header">
    <nav class="layout-shell app-nav">
      <div class="brand">
        <a href="{% url 'home' %}" class="brand-link">
          <img
            src="{% static 'profileapp/img/shp_logo.jpg' %}"
            alt="SHP Logo"
            class="brand-logo"
          >
          <span>My Personal Site</span>
        </a>
      </div>
      <ul class="nav-links">
        <li><a href="/">About</a></li>
        <li><a href="/chatbot/">Torch Chatbot</a></li>
        <li><a href="/hobbies/">Hobbies &amp; Blog</a></li>
        <li><a href="/admin/">Admin</a></li>
        <li>
          <button type="button" class="theme-toggle" id="themeToggle">
            <span id="themeToggleIcon">ðŸŒž</span>
            <span id="themeToggleLabel">Light</span>
          </button>
        </li>
      </ul>
    </nav>
  </header>

  <!-- Main layout: single full-width content area -->
  <main>
    <div class="layout-shell">
      <section class="content-full">
        {% block content %}{% endblock %}
      </section>
    </div>

    <!-- === Quick Navigation Grid at bottom === -->
    <section class="quick-nav-section">
      <div class="layout-shell">
        <div class="quick-nav-grid">
          {% block quick_navigation %}
          <!-- Default links (can be overridden per page) -->
          <div>
            <h4>General</h4>
            <ul>
              <li><a href="/">About</a></li>
              <li><a href="/chatbot/">Torch Chatbot</a></li>
              <li><a href="/hobbies/">Hobbies &amp; Blog</a></li>
              <li><a href="/admin/">Admin</a></li>
            </ul>
          </div>

          <div>
            <h4>LLM Projects</h4>
            <ul>
              <li><a href="/chatbot/">LLM Home</a></li>
              <li><a href="#">RAG + GPT-2</a></li>
              <li><a href="#">SentenceTransformer Bots</a></li>
              <li><a href="#">GPT-2 Fine-tuned Models</a></li>
            </ul>
          </div>

          <div>
            <h4>RTDensity</h4>
            <ul>
              <li><a href="#">Overview</a></li>
              <li><a href="#">Calibration Flow</a></li>
              <li><a href="#">Architecture</a></li>
              <li><a href="#">Documentation</a></li>
            </ul>
          </div>

          <div>
              <h4>Contact</h4>
              <ul>
                <li><a href="mailto:shankarpoudel441@gmail.com">Email</a></li>
                <li><a href="{% url 'contact_linkedin' %}">LinkedIn</a></li>
                <li><a href="{% url 'contact_github' %}">GitHub</a></li>
                <li><a href="{% url 'resume' %}">Resume</a></li>
              </ul>
            </div>
          {% endblock %}
        </div>
      </div>
    </section>
  </main>

  <script>
    // Simple dark/light theme toggle using Pico's data-theme
    (function () {
      const root = document.documentElement;
      const toggleBtn = document.getElementById('themeToggle');
      const iconSpan = document.getElementById('themeToggleIcon');
      const labelSpan = document.getElementById('themeToggleLabel');

      function applyTheme(theme) {
        root.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        if (theme === 'dark') {
          iconSpan.textContent = 'ðŸŒ™';
          labelSpan.textContent = 'Dark';
        } else {
          iconSpan.textContent = 'ðŸŒž';
          labelSpan.textContent = 'Light';
        }
      }

      const stored = localStorage.getItem('theme');
      if (stored === 'light' || stored === 'dark') {
        applyTheme(stored);
      } else {
        const prefersDark = window.matchMedia &&
          window.matchMedia('(prefers-color-scheme: dark)').matches;
        applyTheme(prefersDark ? 'dark' : 'light');
      }

      if (toggleBtn) {
        toggleBtn.addEventListener('click', function () {
          const current = root.getAttribute('data-theme') || 'light';
          applyTheme(current === 'light' ? 'dark' : 'light');
        });
      }
    })();
  </script>
</body>
</html>
